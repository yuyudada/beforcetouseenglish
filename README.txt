团员评议系统 - 部署和使用说明
=====================================

## 系统简介
这是一个基于 PHP 的团员评议系统，支持团员发表学期自述、相互评分，并显示评分统计信息。系统使用 JSON 文件存储数据，无需数据库配置。

## 系统要求
- PHP 7.4 或更高版本
- 支持 JSON 文件读写权限
- 现代浏览器（Chrome、Firefox、Safari、Edge）

## 文件结构
团员评议/
├── index.php          # 主页面文件
├── api.php            # API 接口文件
├── data/
│   └── data.json      # 数据存储文件
├── assets/
│   └── style.css      # 自定义样式文件
└── README.txt         # 本说明文件

## 本地部署步骤

### 方法一：使用 PHP 内置服务器（推荐）
1. 确保已安装 PHP 7.4+
2. 打开命令行，进入"团员评议"文件夹
3. 运行命令：
   php -S localhost:8000
4. 在浏览器中访问：http://localhost:8000

### 方法二：使用 Apache/Nginx
1. 将"团员评议"文件夹复制到 Web 服务器根目录
2. 确保 data 文件夹有写入权限（755 或 777）
3. 通过浏览器访问对应 URL

## 内网穿透部署

### 使用 ngrok（推荐）
1. 下载并安装 ngrok：https://ngrok.com/
2. 注册账号并获取 authtoken
3. 配置 ngrok：ngrok config add-authtoken YOUR_TOKEN
4. 启动本地 PHP 服务器：php -S localhost:8000
5. 启动 ngrok：ngrok http 8000
6. 复制 ngrok 提供的公网 URL 分享给团员

### 使用 frp（免费）
1. 下载 frp 客户端和服务器端
2. 配置 frpc.ini 文件
3. 启动 frp 客户端连接服务器
4. 通过服务器公网 IP 访问系统

## 功能说明

### 主要功能
1. 发表自述：团员可以发表学期自述
2. 查看自述：浏览所有团员的自述内容
3. 评分功能：对其他团员的自述进行 1-5 星评分
4. 编辑删除：可以编辑或删除自己发表的自述
5. 数据导出：导出所有数据为 CSV 格式

### 操作流程
1. 团员访问系统首页
2. 点击"发表自述"按钮，填写标题、内容和姓名
3. 浏览其他团员的自述，点击"评分"进行评分
4. 可以编辑或删除自己发表的自述
5. 管理员可以点击"导出数据"下载所有数据

## 数据备份
系统数据存储在 data/data.json 文件中，建议定期备份：
1. 停止系统运行
2. 复制 data/data.json 文件到安全位置
3. 重新启动系统

## 安全注意事项
1. 本系统设计为内网使用，不建议直接暴露在公网
2. 使用内网穿透时，建议设置访问密码或 IP 白名单
3. 定期备份数据文件
4. 确保 data 文件夹权限设置正确

## 故障排除

### 常见问题
1. 无法发表自述：检查 data 文件夹权限
2. 评分不生效：检查网络连接和 API 接口
3. 页面显示异常：清除浏览器缓存重试
4. 导出功能不工作：检查 PHP 文件权限

### 权限设置（Linux/Mac）
chmod 755 data/
chmod 644 data/data.json

### 权限设置（Windows）
右键 data 文件夹 → 属性 → 安全 → 添加用户权限

## 技术支持
如遇到问题，请检查：
1. PHP 版本是否符合要求
2. 文件权限是否正确
3. 网络连接是否正常
4. 浏览器控制台是否有错误信息

## 更新日志
v1.0.0 - 初始版本
- 基础自述发表功能
- 评分系统
- 数据导出功能
- 响应式界面设计

---
祝您使用愉快！
